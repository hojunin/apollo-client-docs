"use strict";(self.webpackChunkapollo_client=self.webpackChunkapollo_client||[]).push([[2146],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return d}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),c=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=c(t),d=r,g=u["".concat(i,".").concat(d)]||u[d]||m[d]||o;return t?a.createElement(g,l(l({ref:n},s),{},{components:t})):a.createElement(g,l({ref:n},s))}));function d(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=u;var p={};for(var i in n)hasOwnProperty.call(n,i)&&(p[i]=n[i]);p.originalType=e,p.mdxType="string"==typeof e?e:r,l[1]=p;for(var c=2;c<o;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},4870:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return p},contentTitle:function(){return i},metadata:function(){return c},toc:function(){return s},default:function(){return u}});var a=t(7462),r=t(3366),o=(t(7294),t(3905)),l=["components"],p={sidebar_position:1,title:"\ucf54\ub4dc\uc81c\ub108\ub808\uc774\ud130(codegen)"},i="Apollo Client Graphql Codegen",c={unversionedId:"development_tools/codegen",id:"development_tools/codegen",isDocsHomePage:!1,title:"\ucf54\ub4dc\uc81c\ub108\ub808\uc774\ud130(codegen)",description:"---",source:"@site/docs/development_tools/codegen.md",sourceDirName:"development_tools",slug:"/development_tools/codegen",permalink:"/docs/development_tools/codegen",editUrl:"https://github.com/hojunin/apollo-client-docs/docs/development_tools/codegen.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"\ucf54\ub4dc\uc81c\ub108\ub808\uc774\ud130(codegen)"},sidebar:"tutorialSidebar",previous:{title:"Apollo \uc778\uc99d\ubc29\uc2dd",permalink:"/docs/network/authentication"},next:{title:"\uc544\ud3f4\ub85c \ud074\ub77c\uc774\uc5b8\ud2b8 \uc131\ub2a5 \ud5a5\uc0c1\uc2dc\ud0a4\uae30(Improving Performance)",permalink:"/docs/perfomance/overview"}},s=[{value:"Apollo Codegen",id:"apollo-codegen",children:[{value:"\uc0ac\uc6a9\ubc95",id:"\uc0ac\uc6a9\ubc95",children:[],level:3},{value:"introspect-schema",id:"introspect-schema",children:[],level:3},{value:"generate",id:"generate",children:[],level:3},{value:"gql` \ud15c\ud50c\ub9bf \ub9ac\ud130\ub7f4",id:"gql-\ud15c\ud50c\ub9bf-\ub9ac\ud130\ub7f4",children:[],level:3},{value:".graphqlconfig",id:"graphqlconfig",children:[],level:3},{value:"Typescript\ub098 Flow\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74?",id:"typescript\ub098-flow\ub97c-\uc0ac\uc6a9\ud55c\ub2e4\uba74",children:[],level:3}],level:2}],m={toc:s};function u(e){var n=e.components,t=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"apollo-client-graphql-codegen"},"Apollo Client Graphql Codegen"),(0,o.kt)("hr",null),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.apollographql.com/docs/react/development-testing/developer-tooling/#apollo-codegen"},"Apollo Docs"),"\ub97c \ubc88\uc5ed \ubc0f \uc758\uc5ed\ud55c \ub0b4\uc6a9\uc785\ub2c8\ub2e4"),(0,o.kt)("hr",null),(0,o.kt)("h2",{id:"apollo-codegen"},"Apollo Codegen"),(0,o.kt)("p",null,"Apollo Codegen\uc740 graphql \uc0c1\uc138\ub97c \uae30\ubc18\uc73c\ub85c API\ucf54\ub4dc\ub098 \ud0c0\uc785\uc744 \uc0dd\uc131\ud574\uc8fc\ub294 \ub3c4\uad6c\uc785\ub2c8\ub2e4. \uc77c\ubc18\uc801\uc73c\ub85c swift\ub098 typescript, flow annotation, scala code\uc640 \uac19\uc740 \ucf54\ub4dc\ub4e4\ub85c \ubcc0\ud658\ud574\uc90d\ub2c8\ub2e4\ub9cc, \uc9c0\uc18d\uc801\uc73c\ub85c \ub2e4\ub978 \uc5b8\uc5b4\ub3c4 \uc9c0\uc6d0\ud560 \uc218 \uc788\ub3c4\ub85d \uae30\ub2a5\uc744 \ud655\uc7a5\uc911\uc5d0 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("h3",{id:"\uc0ac\uc6a9\ubc95"},"\uc0ac\uc6a9\ubc95"),(0,o.kt)("p",null,"\uba87\uba87 \ubc29\ubc95\uc774 \uc788\uc9c0\ub9cc \uadf8 \uc911\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"apollo-codegen"),"\uc744 \uc0ac\uc6a9\ud558\uc2e0\ub2e4\uba74, \ub2e4\uc74c \ucf54\ub4dc\ub97c shell\uc5d0 \uc785\ub825\ud574\uc11c \ud328\ud0a4\uc9c0\ub97c \uc124\uce58\ud569\ub2c8\ub2e4. (\uc804\uc5ed\uc73c\ub85c)"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"npm install -g apollo-codegen\n//\nyarn add global apollo-codegen\n")),(0,o.kt)("h3",{id:"introspect-schema"},"introspect-schema"),(0,o.kt)("p",null,"introspect-schema\uc758 \ubaa9\uc801\uc740 \uc8fc\uc5b4\uc9c4 graphql \uc2a4\ud0a4\ub9c8\ub97c \uc77d\uace0(\ud574\ub2f9 \uc11c\ubc84\uc5d0 \uc815\uc758\ub41c) ",(0,o.kt)("a",{parentName:"p",href:"https://graphql-kr.github.io/learn/introspection/"},"introspection"),"(\ub9c1\ud06c\ucc38\uc870) JSON \ud30c\uc77c\uc744 \ub9cc\ub4e4\uc5b4\ub0c5\ub2c8\ub2e4. \ub9cc\ub4e4 \ub54c \ub85c\uceec\uc5d0 \uc800\uc7a5\ub41c \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud560 \uc218\ub3c4 \uc788\uace0, graphql\uc11c\ubc84\uc5d0\uc11c \uac00\uc838\uc62c \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c \ub9cc\ub4e4\uc5b4\uc9c4 introspect-schma \ud30c\uc77c\uc740 codegen\uc744 \ud560 \ub54c \ud544\uc694\ud569\ub2c8\ub2e4."),(0,o.kt)("p",null,"\uc11c\ubc84\uc5d0\uc11c graphql \uc2a4\ud0a4\ub9c8\ub97c \ub2e4\uc6b4\ubc1b\uae30 \uc704\ud574 \ub2e4\uc74c\uacfc \uac19\uc740 command\ub97c shell\uc5d0 \uc785\ub825\ud569\uc2dc\ub2e4. \ud604\uc7ac\ub294 \ub85c\uceec\uc11c\ubc84\ub97c 8080\ud3ec\ud2b8\uc5d0\uc11c \uad6c\ub3d9\ud558\uace0 \uc788\ub2e4\uace0 \uac00\uc815\ud55c \uac83\uc785\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"apollo-codegen introspect-schema http://localhost:8080/graphql --output schema.json\n")),(0,o.kt)("p",null,"http \uc694\uccad\uc744 \ubcf4\ub0bc \ub54c header \uc635\uc158\uc744 \ucd94\uac00\ud574\uc918\ub3c4 \ub429\ub2c8\ub2e4. \uc608\ub97c \ub4e4\uc5b4 authentication token\uc744 \ud5e4\ub354\uc5d0 \uc2e4\uc5b4 \ubcf4\ub0b4\ub824\uba74 ",(0,o.kt)("inlineCode",{parentName:"p"},'\u2014header "Authorization: Bearer <token>'),"\uc744 \ucd94\uac00\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4.",(0,o.kt)("inlineCode",{parentName:"p"},"insecure"),"\uc635\uc158\uc744 \ucd94\uac00\ud574\uc11c SSL\uc5d0\ub7ec\ub97c \ubb34\uc2dc\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("p",null,"\ub85c\uceec\uc5d0 \uc800\uc7a5\ub41c(\ud30c\uc77c\ub85c \uac00\uc9c0\uace0 \uc788\ub294) graphql \uba85\uc138\ub85c\ubd80\ud130 \uc2a4\ud0a4\ub9c8\ub974 \ub9cc\ub4e4\uc5b4\ub0bc \ub550 \ub2e4\uc74c\uacfc \uac19\uc774 \uc785\ub825\ud558\uc2dc\uba74 \ub429\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"apollo-codegen introspect-schema schema.graphql --output schema.json\n")),(0,o.kt)("h3",{id:"generate"},"generate"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"generate"),"\ub77c\ub294 \uba85\ub839\uc5b4\ub294 schema\uc5d0 \uc801\ud78c\ub300\ub85c \ucffc\ub9ac\uc640 \ubba4\ud14c\uc774\uc158\uc744 \uc704\ud55c type\uc744 \ub9cc\ub4e4\uc5b4\ub0c5\ub2c8\ub2e4."),(0,o.kt)("p",null,"\uc608\ub97c \ub4e4\uc5b4 \ub2e4\uc74c \ucf54\ub4dc\ub294 schema.json\uc774\ub77c\ub294 \ud30c\uc77c\uc5d0 \uc801\ud78c\ub300\ub85c type\uc744 \ub9cc\ub4e4\uc5b4\uc11c swift\ud30c\uc77c\uc5d0 \uae30\ub85d\ud569\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"apollo-codegen generate **/*.graphql --schema schema.json --output API.swift\n")),(0,o.kt)("p",null,"\u2014\ub97c \ubd99\ud788\uace0 \ud30c\uc77c \uc774\ub984\uc744 .ts \ub4f1\uc73c\ub85c \uc815\ud558\uba74 typescript\ub098 \ub2e4\ub978 \uc5b8\uc5b4\ub85c\ub3c4 \uc0dd\uc131\ud574\uc11c \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"target"),"\xa0option:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"# TypeScript\napollo-codegen generate **/*.graphql --schema schema.json --target typescript --output operation-result-types.ts\n# Flow\napollo-codegen generate **/*.graphql --schema schema.json --target flow --output operation-result-types.flow.js\n# Scala\napollo-codegen generate **/*.graphql --schema schema.json --target scala --output operation-result-types.scala\n")),(0,o.kt)("h3",{id:"gql-\ud15c\ud50c\ub9bf-\ub9ac\ud130\ub7f4"},"gql` \ud15c\ud50c\ub9bf \ub9ac\ud130\ub7f4"),(0,o.kt)("p",null,"\ub9cc\uc57d \uc18c\uc2a4\ud30c\uc77c\uc774 js\ub098 ts\ud30c\uc77c\uc774\ub77c\uba74 codegen\uc740 gql tag template\uc744 \ubcf4\uace0 \ud0c0\uc785\uc774\ub098 \ucffc\ub9ac\ub97c \ucd94\ub860\ud569\ub2c8\ub2e4. tag\uc774\ub984\uc740 command line\uc5d0\uc11c \u2014tag-name\uc635\uc158\uc73c\ub85c \uad6c\ubcc4 \uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,o.kt)("h3",{id:"graphqlconfig"},".graphqlconfig"),(0,o.kt)("p",null,"\uc0ac\uc6a9\ud560 graphql schema\ub97c \uc120\ud0dd\ud560 \ub54c \u2014schem \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\ub294 \ub300\uc2e0\uc5d0 .graphqlconfig \ud30c\uc77c\uc5d0 \uc801\uc5b4\ub458 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec \uc885\ub958\uc758 \uc2a4\ud0a4\ub9c8 .graphqlconfig\ud30c\uc77c\uc5d0 \uba85\uc2dc\ud574\ub454 \uacbd\uc6b0 \u2014project-name \uc635\uc158\uc73c\ub85c \uc5b4\ub5a4 \uc2a4\ud0a4\ub9c8\ub97c \uc801\uc6a9\ud560 \uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,o.kt)("h3",{id:"typescript\ub098-flow\ub97c-\uc0ac\uc6a9\ud55c\ub2e4\uba74"},"Typescript\ub098 Flow\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74?"),(0,o.kt)("p",null,"\ub9cc\uc57d apollo graphql\uc744 typescript\ub098 flow\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74 \ubaa8\ub4e0 graphql selection set\uc5d0 ","_","_","typename\uc744 \ucd94\uac00\ud574\uc918\uc57c \ud55c\ub2e4\ub294 \uc810\uc744 \uba85\uc2ec\ud558\uc138\uc694."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"selection set : graphql\uc758 \ub9ac\ud134\uac12\uc5d0\uc11c \uc6d0\ud558\ub294 \ud544\ub4dc\ub97c \uace0\ub97c \ub54c \uc5ec\ub294 \uc911\uad04\ud638\uc640 \uadf8 \ub0b4\uc6a9\uc774\ub77c\uace0 \uc774\ud574\ud558\uba74 \ub429\ub2c8\ub2e4."))),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"@apollo/client"),"\ub97c \uc0ac\uc6a9\uc911\uc774\ub77c\uba74 ",(0,o.kt)("inlineCode",{parentName:"p"},"apollo-codegen"),"\uc5d0 ",(0,o.kt)("inlineCode",{parentName:"p"},"\u2014addTypename"),"\ub9cc \ubd99\ud600\uc900\ub2e4\uba74 \ubaa8\ub4e0 graphql \ub3d9\uc791\uc5d0 \ub300\ud574 \uc790\ub3d9\uc73c\ub85c ",(0,o.kt)("inlineCode",{parentName:"p"},"__tyepname"),"\uc744 \ucd94\uac00\ud574\uc90d\ub2c8\ub2e4. \uc774 \uacfc\uc815\uc740 ",(0,o.kt)("inlineCode",{parentName:"p"},"GraphQLUnionType"),"\uacfc ",(0,o.kt)("inlineCode",{parentName:"p"},"GraphQLInterfaceType"),"\uc744 \uc815\ud655\ud558\uac8c \ubb18\uc0ac\ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \uaf2d \ud544\uc694\ud569\ub2c8\ub2e4."),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\uc65c ",(0,o.kt)("inlineCode",{parentName:"strong"},"__typename")," \ud544\ub4dc\uac00 \ud544\uc694\ud55c\uac78\uae4c\uc694?")),(0,o.kt)("p",null,"Codegen\uc744 \ud560 \ub54c Graphql \uc2a4\ud0a4\ub9c8\uc5d0\uc11c \ud0c0\uc785 \uc815\ubcf4\ub97c \ubc1b\uc544\uc11c \uac00\ub2a5\ud55c \ud0c0\uc785\uc744 \ucd5c\ub300\ud55c \ucd94\ub860\ud569\ub2c8\ub2e4. \ud558\uc9c0\ub9cc \xa0",(0,o.kt)("inlineCode",{parentName:"p"},"GraphQLUnionType"),"\xa0\uc774\ub098\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"GraphQLInterfaceType"),"\uc758 \uacbd\uc6b0 \ud574\ub2f9 \ud544\ub4dc\uac00 \uac00\uc9c8 \uc218 \uc788\ub294 \ud0c0\uc785\uc774 \uc6cc\ub099 \ub2e4\uc591\ud569\ub2c8\ub2e4. \uc774 \ub584, ","_","_","typename\uc744 \ud310\ubcc4\uc790\ub85c \ud65c\uc6a9\ud574\uc11c union\uc73c\ub85c\ubd80\ud130 \ud0c0\uc785\uc744 \ubd84\ubcc4\ud574\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("p",null,"\uc608\ub97c \ub4e4\uc5b4 \ub2e4\uc74c\uc758 \uc2a4\ud0a4\ub9c8\ub97c \ud55c\ubc88 \ubcf4\uc138\uc694."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"interface Character {\n  name: String!\n}\n\ntype Human implements Character {\n  homePlanet: String\n}\n\ntype Droid implements Character {\n  primaryFunction: String\n}\n")),(0,o.kt)("p",null,"Character\uc758 field\ub97c \uc815\ud560 \ub54c Human\uc774\ub4e0 Droid\uac00 \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 Human\uacfc Droid \uac1d\uccb4\ub294 \ub2e4\ub978 \ud544\ub4dc\ub4e4\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"query Characters {\n  characters(episode: NEW_HOPE) {\n    name\n\n    ... on Human {\n      homePlanet\n    }\n\n    ... on Droid {\n      primaryFunction\n    }\n  }\n}\n")),(0,o.kt)("p",null,"Apollo Codegen\uc740 \uc704\uc758 \ucffc\ub9ac\ub97c \ub2e4\uc74c\uacfc \uac19\uc740 \ud0c0\uc785\uc73c\ub85c \uc815\uc758\ud569\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'export type CharactersQuery = {\n  characters: Array<\n    | {\n        __typename: "Human";\n        name: string;\n        homePlanet: ?string;\n      }\n    | {\n        __typename: "Droid";\n        name: string;\n        primaryFunction: ?string;\n      }\n  >;\n};\n')),(0,o.kt)("p",null,"\uc774 \ud0c0\uc785\uc740 \ubaa8\ub4e0 \uac00\ub2a5\ud55c \ud0c0\uc785\uc744 \ub2e4\ub8e8\ub3c4\ub85d \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ucf54\ub4dc\ub97c \ubcf4\uba74 character\uac1d\uccb4\uc758 ","_","_","typename\uc73c\ub85c Human\uacfc Droid\uac00 \uad6c\ubd84\ub429\ub2c8\ub2e4."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'function CharacterFigures({ characters }: CharactersQuery) {\n  return characters.map(character => {\n    switch(character.__typename) {\n      case "Human":\n        return <HumanFigure homePlanet={character.homePlanet} name={character.name} />case "Droid":\n        return <DroidFigure primaryFunction={character.primaryFunction} name={character.name} />}\n  });\n}\n')))}u.isMDXComponent=!0}}]);